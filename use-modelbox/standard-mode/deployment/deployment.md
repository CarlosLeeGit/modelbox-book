# 打包部署

ModelBox工程采用CMake内置的CPack工具打包，将功能单元、流程图、插件（可选）等打包成rpm/deb/tar包，可一键安装，方便生产环境的部署和使用。

## 打包

打包内容包括下面几个部分：

| 内容             | 类别                                         | 是否必选 |
| ---------------- | ------------------------------------------- | -------  |
| 流程图           | 配置文件                                     | 是       |
| 功能单元         | 动态库/配置文件+Python源码/配置文件+模型文件  | 是      |
| 插件             | 动态链接库                                   | 否       |
| ModelBox服务配置 | 配置文件                                     | 是       |

- 流程图
  
  将开发好的流程图打包。

- 功能单元

  将业务开发好的功能单元打包，不同类型功能单元需要打包的内容不同。

  C++功能单元打包的是编译好的动态链接库；

  Python功能单元打包的是配置文件与Python源码；

  推理功能单元打包的是配置文件与模型文件；

- 插件

  若业务开发了自定义插件，则可将插件编译成动态链接库进行打包。

- ModelBox服务配置

  ModelBox服务配置包含主服务配置、服务启动参数、插件、插件配置参数等，具体可参考[服务配置](./server.md#服务配置)章节。

### 打包配置

如果是通过UI或modelbox-tool创建的项目，可跳过此步骤。

具体配置信息可参考工程`package`目录。

## 部署

默认安装目录为`/opt/modelbox/application/$project_name/`目录，这个目录下包括流程图（graph）、功能单元（flowunit）。
